<form class="form">
    <div class="form-group form-inline">
        <label i18n for="searchTerm">
            Search text:
        </label>
        <input class="form-control ml-2"
            type="text"
            name="searchTerm"
            [(ngModel)]="service.searchTerm"/>
        <span class="ml-3" *ngIf="service.loading$ | async" i18n>Loading...</span>
    </div>
    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col" sortable="name" (sort)="onSort($event)" i18n>Name</th>
                <th scope="col" sortable="txtFrom" (sort)="onSort($event)" i18n>Source text</th>
                <th scope="col" sortable="txtTo" (sort)="onSort($event)" i18n>Result text</th>
            </tr>
        </thead>

        <tbody>
            <tr *ngFor="let row of rows$ | async" (dblclick)="loadText">
                <th scope="rows">{{ row.id }}</th>
                <td>
                    <ngb-highlight [result]="row.name" [term]="service.searchTerm"></ngb-highlight>
                </td>
                <td>
                    <ngb-highlight [result]="row.txtFrom | string" [term]="service.searchTerm"></ngb-highlight>
                </td>
                <td>
                    <ngb-highlight [result]="row.txtTo | sting" [term]="service.searchTerm"></ngb-highlight>
                </td>
            </tr>
        </tbody>
    </table>
    <div class="d-flex justify-content-between p-2">
        <ngb-pagination
            [collectionSize]="(total$ | async)!"
            [(page)]="service.page"
            [pageSize]="service.pageSize">
        </ngb-pagination>

        <select class="custom-select"
            style="width: auto"
            name="pageSize"
            [(ngModel)]="service.pageSize">
            <option [ngValue]="2">2 items per page</option>
            <option [ngValue]="4">4 items per page</option>
            <option [ngValue]="6">6 items per page</option>
        </select>
    </div>
</form>
